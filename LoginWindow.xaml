<Window x:Class="Haier_E246_TestTool.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:Haier_E246_TestTool.ViewModels"
        Title="系统登录" Height="450" Width="380"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize"
        Background="#F0F2F5">

    <Window.DataContext>
        <vm:LoginViewModel/>
    </Window.DataContext>

    <Border Margin="20" Background="White" CornerRadius="10" Effect="{StaticResource DropShadowEffect}">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <TextBlock Text="测试工具登录" FontSize="24" FontWeight="Bold" 
                       HorizontalAlignment="Center" Margin="0,10,0,30" Foreground="#333"/>

            <TextBlock Grid.Row="1" Text="选择工站 (Station):" Margin="0,0,0,5" Foreground="#666"/>
            <ComboBox Grid.Row="1" ItemsSource="{Binding StationTypes}" 
                      SelectedItem="{Binding SelectedStationType}"
                      Height="35" Margin="0,20,0,20" FontSize="14" VerticalContentAlignment="Center"/>

            <CheckBox Grid.Row="2" Content="启用 MES 模式 (MES Mode)" 
                      IsChecked="{Binding IsMesMode}"
                      HorizontalAlignment="Right" Margin="0,0,0,15"/>

            <StackPanel Grid.Row="3" Margin="0,0,0,15">
                <TextBlock Text="账号 (User):" Foreground="#666"/>
                <TextBox Text="{Binding UserName}" Height="35" FontSize="14" VerticalContentAlignment="Center"
                         IsEnabled="{Binding IsMesMode}"/>
            </StackPanel>

            <StackPanel Grid.Row="4" Margin="0,0,0,15">
                <TextBlock Text="密码 (Pwd):" Foreground="#666"/>
                <PasswordBox x:Name="TxtPassword" Height="35" FontSize="14" VerticalContentAlignment="Center"
                             IsEnabled="{Binding IsMesMode}"/>
            </StackPanel>

            <TextBlock Grid.Row="5" Text="{Binding ErrorMessage}" Foreground="Red" 
                       TextWrapping="Wrap" HorizontalAlignment="Center" Margin="0,0,0,10"/>

            <Button Grid.Row="6" Content="登 录 (Login)" 
                    Command="{Binding LoginCommand}"
                    CommandParameter="{Binding ElementName=TxtPassword}"
                    Height="45" Background="#1890FF" Foreground="White" 
                    FontSize="16" FontWeight="Bold" Cursor="Hand"
                    VerticalAlignment="Bottom"/>
        </Grid>
    </Border>
</Window>