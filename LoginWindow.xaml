<Window x:Class="Haier_E246_TestTool.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:Haier_E246_TestTool.ViewModels"
        Title="系统登录" 
        Width="380" 
        SizeToContent="Height" 
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen" 
        Background="#F0F2F5">

    <Window.Resources>
        <DropShadowEffect x:Key="DropShadowEffect" Color="Black" Direction="315" ShadowDepth="5" Opacity="0.3" BlurRadius="10"/>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    </Window.Resources>

    <Border Margin="20" Background="White" CornerRadius="10" Effect="{StaticResource DropShadowEffect}">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <TextBlock Text="测试工具登录" FontSize="24" FontWeight="Bold" 
                       HorizontalAlignment="Center" Margin="0,10,0,30" Foreground="#333"/>

            <StackPanel Grid.Row="1" Margin="0,0,0,15">
                <TextBlock Text="选择工站 (Station):" Margin="0,0,0,5" Foreground="#666"/>
                <ComboBox ItemsSource="{Binding StationTypes}" 
                          SelectedItem="{Binding SelectedStationType}"
                          Height="35" FontSize="14" VerticalContentAlignment="Center"/>
            </StackPanel>

            <CheckBox Grid.Row="2" Content="启用 MES 模式 (MES Mode)" 
                      IsChecked="{Binding IsMesMode}"
                      HorizontalAlignment="Right" Margin="0,0,0,15"/>

            <StackPanel Grid.Row="3" Margin="0,0,0,15">
                <TextBlock Text="账号 (User):" Foreground="#666"/>
                <TextBox Text="{Binding UserName}" Height="35" FontSize="14" VerticalContentAlignment="Center"
                         IsEnabled="{Binding IsMesMode}"/>
            </StackPanel>

            <StackPanel Grid.Row="4" Margin="0,0,0,15">
                <TextBlock Text="密码 (Pwd):" Foreground="#666"/>
                <PasswordBox x:Name="TxtPassword" Height="35" FontSize="14" VerticalContentAlignment="Center"
                             IsEnabled="{Binding IsMesMode}"/>
            </StackPanel>
            <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,10">
                <CheckBox Content="记住密码" 
              IsChecked="{Binding IsRememberMe}" 
              Foreground="#666" 
              VerticalContentAlignment="Center"/>
            </StackPanel>
            <TextBlock Grid.Row="5" Text="{Binding ErrorMessage}" Foreground="Red" 
                       TextWrapping="Wrap" HorizontalAlignment="Center" Margin="0,0,0,10"/>

            <Button x:Name="BtnLogin" 
                    Grid.Row="6" Content="登 录" 
                    Command="{Binding LoginCommand}" 
                    CommandParameter="{Binding ElementName=TxtPassword}"
                    Height="45" Background="#1890FF" Foreground="White" 
                    FontSize="16" FontWeight="Bold" Cursor="Hand"
                    VerticalAlignment="Bottom" Margin="0,10,0,0"/>
        </Grid>
    </Border>
</Window>